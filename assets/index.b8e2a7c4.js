var H=Object.defineProperty;var W=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var E=(s,t,o)=>t in s?H(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,V=(s,t)=>{for(var o in t||(t={}))G.call(t,o)&&E(s,o,t[o]);if(W)for(var o of W(t))Q.call(t,o)&&E(s,o,t[o]);return s};import{u as J,c as T,r as g,o as f,a as m,b as e,n as k,w as L,v as F,d as R,F as O,e as K,f as X,t as x,g as _,h as A,i as Z,j as M,_ as ee,k as I,l as q,m as te,p as oe,q as se,s as ne,x as ae,y as le}from"./vendor.89e8d066.js";const re=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const b of a.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&i(b)}).observe(document,{childList:!0,subtree:!0});function o(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerpolicy&&(a.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?a.credentials="include":l.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(l){if(l.ep)return;l.ep=!0;const a=o(l);fetch(l.href,a)}};re();var de="/f2e-2nd-pomodoro/assets/icon-list.d722b284.svg",ie="/f2e-2nd-pomodoro/assets/icon-analysis.71a9f3ed.svg",ce="/f2e-2nd-pomodoro/assets/icon-bell.624e036c.svg",ue="/f2e-2nd-pomodoro/assets/icon-play--orange.1e6e30db.svg",fe="/f2e-2nd-pomodoro/assets/icon-pause--orange.eded89db.svg",me="/f2e-2nd-pomodoro/assets/icon-cancel.7c5f95e4.svg",_e="/f2e-2nd-pomodoro/assets/tomato--orange.c59650ee.svg",pe="/f2e-2nd-pomodoro/assets/tomato--green.fcdcebb9.svg",ve="/f2e-2nd-pomodoro/assets/icon-edit.f382cda4.svg",he="/f2e-2nd-pomodoro/assets/icon-delete.a0466a43.svg";const ye={class:"flex justify-between items-end"},be=e("span",{class:"text-4xl font-bold"},"\u4EE3\u8FA6\u6E05\u55AE",-1),ge={class:"flex"},xe={class:"relative flex items-center text-primary my-10"},$e={class:"divide-y divide-gray-200/30 border-y border-gray-200/30 h-full overflow-y-auto"},ke={class:"flex items-center"},we=["for","onClick"],Se=["id","onUpdate:modelValue"],Ce=["onDblclick"],De=["onKeyup"],Ye={class:"flex items-center ml-auto"},je=["for"],Ie=["onClick"],Me=e("img",{src:ve,alt:"",class:""},null,-1),Te=[Me],Oe=["onClick"],Ue=e("img",{src:he,alt:"",class:""},null,-1),Je=[Ue],Ne={props:{listStatus:Boolean},setup(s){const{proxy:t}=A(),o=J(),i={mounted(c){c.focus()}};localStorage.getItem("todos")&&o.commit("getToDos");const l=T(()=>o.state.todos),a=g("active"),b={active:()=>l.value.filter(c=>!c.done),complete:()=>l.value.filter(c=>c.done)},$=T(()=>b[a.value]()),v=g(null),p=g(null),u={add:()=>{if(!v.value)return;const c={id:Date.now(),content:v.value,done:!1};o.commit("add",c),t.$emitter.emit("chartUpdate"),v.value=null},checkboxToggle:c=>{const n=o.getters.findItem(c),r={id:c,content:n.content,done:!n.done};o.commit("editDone",r),t.$emitter.emit("chartUpdate")},edit:c=>{const n=o.getters.findItem(c);p.value=V({},n)},editDone:c=>{const n={id:c,content:p.value.content};o.commit("editDone",n),t.$emitter.emit("chartUpdate"),p.value=null},editCancel:()=>{p.value=null},delete:c=>{o.commit("delete",c),t.$emitter.emit("chartUpdate")}};return(c,n)=>(f(),m("div",{class:k(["absolute h-screen shadow-2xl z-10 overflow-hidden w-1/2 py-28 px-10 -left-1/2 duration-500",{"translate-x-full":s.listStatus}])},[e("div",ye,[be,e("div",ge,[e("button",{class:k(["border-b-2 border-transparent hover:border-b-2 hover:border-secondary mr-3",{"text-gray-50/30":a.value!=="active"}]),onClick:n[0]||(n[0]=r=>a.value="active")},"\u672A\u5B8C\u6210",2),e("button",{class:k(["border-b-2 border-transparent hover:border-b-2 hover:border-secondary",{"text-gray-50/30":a.value!=="complete"}]),onClick:n[1]||(n[1]=r=>a.value="complete")},"\u5DF2\u5B8C\u6210",2)])]),e("div",xe,[L(e("input",{type:"text",class:"border rounded-full w-full py-4 px-8 outline-secondary",placeholder:"\u65B0\u589E\u4EE3\u8FA6\u4E8B\u9805","onUpdate:modelValue":n[2]||(n[2]=r=>v.value=r),onKeyup:n[3]||(n[3]=R((...r)=>u.add&&u.add(...r),["enter"]))},null,544),[[F,v.value],[i]]),e("button",{class:"absolute bg-orange-400 rounded-full text-3xl text-white right-2 w-1/6 h-5/6",onClick:n[4]||(n[4]=(...r)=>u.add&&u.add(...r))},"+")]),e("div",$e,[(f(!0),m(O,null,K(_($),r=>{var Y;return f(),m("div",{class:"flex items-center justify- py-3",key:r.id},[e("div",ke,[e("label",{for:r.id,class:"w-7 h-7 border-2 rounded-full select-none mr-5",onClick:d=>u.checkboxToggle(r.id)},[L(e("input",{type:"checkbox",name:"",id:r.id,class:"hidden","onUpdate:modelValue":d=>r.done=d},null,8,Se),[[X,r.done]]),e("span",{class:k(["material-icons",{hidden:!r.done}])},"done",2)],8,we)]),((Y=p.value)==null?void 0:Y.id)!==r.id?(f(),m("span",{key:0,class:k(["w-2/3",{"line-through":r.done}]),onDblclick:d=>u.edit(r.id)},x(r.content),43,Ce)):L((f(),m("input",{key:1,type:"text",class:"text-primary py-1 px-2",name:"",id:"","onUpdate:modelValue":n[5]||(n[5]=d=>p.value.content=d),onBlur:n[6]||(n[6]=(...d)=>u.editCancel&&u.editCancel(...d)),onKeyup:R(d=>u.editDone(r.id),["enter"])},null,40,De)),[[F,p.value.content],[i]]),e("div",Ye,[e("label",{for:r.id-1},[e("button",{class:"rounded-full hover:bg-secondary mr-3 p-1",onClick:d=>u.edit(r.id)},Te,8,Ie)],8,je),e("button",{class:"rounded-full hover:bg-secondary p-1",onClick:d=>u.delete(r.id)},Je,8,Oe)])])}),128))])],2))}};var Be="/f2e-2nd-pomodoro/assets/icon-arrow--prev.2e1a0d91.svg",Le="/f2e-2nd-pomodoro/assets/icon-arrow--next.efde2f7a.svg";const Pe={class:"flex justify-center mb-3"},We={class:"flex font-sans"},Ee=e("img",{src:Be,class:"",alt:""},null,-1),Ve=[Ee],Fe=e("img",{src:Le,class:"",alt:""},null,-1),Re=[Fe],ze={setup(s){const{proxy:t}=A(),o=J();t.$emitter.on("chartUpdate",()=>{d.data.datasets[0].data=u(i),n.value.update()});let i=1,l=g(null),a=g(null),b,$=[4,2,8,1];function v(){l.value=t.$dayjs().weekday(i).format("YYYY-MM-DD"),a.value=t.$dayjs().weekday(i+6).format("YYYY-MM-DD")}function p(h=1){b=[];const j=h+6;for(h;h<=j;h++)b.push(t.$dayjs().weekday(h).format("MM/DD (dd)"));return b}function u(h=1){$=[];const j=h+6;for(h;h<=j;h++){let C=0;const B=t.$dayjs().weekday(h).format("YYYY-MM-DD");o.state.todos.forEach(w=>{t.$dayjs(w.id).startOf("day").isSame(B)&&w.done&&(C+=1)}),$.push(C)}return $}function c(){l.value=t.$dayjs().weekday(1).format("YYYY-MM-DD"),a.value=t.$dayjs().weekday(7).format("YYYY-MM-DD"),b=p(),$=u()}c();const n=g(null);function r(){i-=7,v(),d.data.labels=p(i),d.data.datasets[0].data=u(i),n.value.update()}function Y(){i+=7,v(),d.data.labels=p(i),d.data.datasets[0].data=u(i),n.value.update()}const d={id:"bar",type:"bar",data:{labels:b,datasets:[{label:"\u5B8C\u6210\u4EF6\u6578",color:"#000",backgroundColor:["#6C9460","#6C9460","#6C9460","#6C9460","#6C9460","#6C9460","#F08448"],data:$}]},options:{plugins:{},scales:{x:{ticks:{color:"white"},grid:{borderColor:"rgba(255, 255, 255, 0.3)"}},y:{ticks:{color:"white"},grid:{borderColor:"rgba(255, 255, 255, 0.3)"}}}}},U=h=>{};return(h,j)=>(f(),m(O,null,[e("div",Pe,[e("div",We,[e("button",{class:"rounded-full hover:bg-secondary mx-3",onClick:r},Ve),Z(" "+x(_(l))+" ~ "+x(_(a))+" ",1),e("button",{class:"rounded-full hover:bg-secondary mx-3",onClick:Y},Re)])]),M(_(ee),{id:d.id,type:d.type,data:d.data,options:d.options,ref_key:"chartRef",ref:n,onBeforeRender:U},null,8,["id","type","data","options"])],64))}},Ke=()=>{const s=J();return Object.fromEntries(Object.keys(s.getters).map(t=>[t,T(()=>s.getters[t])]))},Ae=e("div",{class:"justify-between items-end"},[e("span",{class:"text-4xl font-bold"},"\u5C08\u6CE8\u5EA6\u5206\u6790")],-1),qe={class:"lg:flex gap-12 items-center my-10"},He={class:"lg:w-1/2"},Ge={class:"flex"},Qe=e("span",{class:"mr-10 mb-5"},"\u4ECA\u65E5",-1),Xe={class:"text-white/30"},Ze={class:"border border-white/30 rounded-lg py-5"},et={class:"flex text-center"},tt={class:"w-1/2 border-r border-white/30"},ot={class:"text-8xl text-thirdly mb-3"},st=e("p",{class:""},"\u4EE3\u8FA6\u4E8B\u9805",-1),nt={class:"w-1/2"},at={class:"text-8xl text-secondary mb-3"},lt=e("p",{class:""},"\u5DF2\u5B8C\u6210",-1),rt={class:"lg:w-1/2"},dt=e("div",{class:"flex my-5 lg:mt-0"},[e("span",{class:"mr-10"},"\u672C\u5468")],-1),it={class:"border border-white/30 rounded-lg py-5"},ct={class:"flex text-center"},ut={class:"w-1/2 border-r border-white/30"},ft={class:"text-8xl text-thirdly mb-3"},mt=e("p",{class:""},"\u4EE3\u8FA6\u4E8B\u9805",-1),_t={class:"w-1/2"},pt={class:"text-8xl text-secondary mb-3"},vt=e("p",{class:""},"\u5DF2\u5B8C\u6210",-1),ht={id:"Chart"},yt={props:{toDoList:Array,analyseStatus:Boolean},setup(s){const{todayJobs:t,thisWeekJobs:o}=Ke();return(i,l)=>(f(),m("div",{class:k(["absolute h-screen shadow-2xl overflow-y-auto z-20 w-1/2 pt-28 px-10 -left-1/2 duration-500",{"translate-x-full":s.analyseStatus}])},[Ae,e("div",qe,[e("div",He,[e("div",Ge,[Qe,e("span",Xe,x(_(I)().format("YYYY-MM-DD")),1)]),e("div",Ze,[e("div",et,[e("div",tt,[e("p",ot,x(_(t).active.length),1),st]),e("div",nt,[e("p",at,x(_(t).done.length),1),lt])])])]),e("div",rt,[dt,e("div",it,[e("div",ct,[e("div",ut,[e("p",ft,x(_(o).active.length),1),mt]),e("div",_t,[e("p",pt,x(_(o).done.length),1),vt])])])])]),e("div",ht,[M(ze)])],2))}},bt={class:"mr-5"},gt={class:""},xt={setup(s){const t=q({}),o=setInterval(()=>{t.dateTime=I().format("dddd HH:mm")},1e3);return te(()=>clearInterval(o)),(i,l)=>(f(),m(O,null,[e("span",bt,x(_(I)().format("YYYY-MM-DD")),1),e("span",gt,x(_(t).dateTime),1)],64))}};var $t="/f2e-2nd-pomodoro/assets/alarm.47fbbbce.mp3",kt="/f2e-2nd-pomodoro/assets/don.a256352e.mp3",wt="/f2e-2nd-pomodoro/assets/yay.ca7f6c55.mp3";const St=["src","muted"],Ct=["src","muted"],Dt=["src","muted"],Yt={class:"flex selection:bg-green-100"},jt={class:"flex flex-col justify-center h-screen w-[80px] bg-gray-200 z-20"},It=e("img",{src:de,class:"mx-auto",alt:""},null,-1),Mt=[It],Tt=e("img",{src:ie,class:"mx-auto",alt:""},null,-1),Ot=[Tt],Ut={class:"relative flex flex-col h-screen justify-between bg-[#304030] text-white w-full overflow-hidden"},Jt={class:"text-right opacity-60 p-7"},Nt={class:"flex flex-col justify-center time w-1/2"},Bt={class:"text-[150px] lg:text-[200px] mx-auto"},Lt={class:"mx-auto"},Pt=e("img",{src:ce,alt:"",class:""},null,-1),Wt={key:0,class:"absolute w-full top-1/2 left-0 rotate-45 border"},Et=e("img",{src:ue,alt:"",class:""},null,-1),Vt=[Et],Ft=e("img",{src:fe,alt:"",class:""},null,-1),Rt=[Ft],zt=e("img",{src:me,alt:"",class:""},null,-1),Kt=[zt],At={class:"pt-10 lg:pt-16"},qt={key:0,class:"p-5 max-h-96 overflow-y-auto"},Ht={class:"w-16"},Gt={key:1,class:"w-7 h-7 border-2 rounded-full mx-auto"},Qt={key:1,class:"px-10"},Xt=e("p",{class:"font-bold text-8xl mb-5"},"\u4F11\u606F",-1),Zt=e("p",{class:"text-4xl"},"\u662F\u70BA\u4E0B\u4E00\u6B21\u7684\u52AA\u529B\u3002",-1),eo=[Xt,Zt],to={setup(s){const t=g($t),o=g(kt),i=g(wt),l=J(),a=q({listStatus:!1,analyseStatus:!1,mainStatus:!1});function b(S){a[S]?Object.keys(a).forEach(y=>{a[y]=!1}):(Object.keys(a).forEach(y=>{a[y]=!1}),a[S]=!a[S],a.mainStatus=!0)}let $;const v=g(!1),p=g(!0),u=25*60,c=5*60,n=g(u),r=T(()=>Math.floor(n.value%60)),Y=T(()=>Math.floor(n.value/60%60));function d(S){const y=document.getElementById(S);y.currentTime=0,y.play()}function U(){v.value=!0,p.value=!1,$=setInterval(()=>{n.value-=1,n.value||(d("audio-yay"),C(),h())},1e3)}function h(){v.value=!0,p.value=!0,n.value=c,$=setInterval(()=>{n.value-=1,n.value||(d("audio-alarm"),C(),U(),n.value=u)},1e3)}function j(){v.value=!1,C(),p.value=!0}function C(){clearInterval($),v.value=!1}function B(){n.value=u,C(),p.value=!0}const w=g(!0);function P(S){d(S),w.value=!w.value}return(S,y)=>(f(),m(O,null,[e("audio",{id:"audio-don",src:o.value,muted:!w.value},null,8,St),e("audio",{id:"audio-alarm",src:t.value,muted:!w.value},null,8,Ct),e("audio",{id:"audio-yay",src:i.value,muted:!w.value},null,8,Dt),e("div",Yt,[e("div",jt,[e("button",{class:"hover:bg-gray-50 focus:ring ring-gray-50 ring-inset w-full p-4",onClick:y[0]||(y[0]=D=>b("listStatus"))},Mt),e("button",{class:"hover:bg-gray-50 focus:ring ring-gray-50 ring-inset w-full p-4",onClick:y[1]||(y[1]=D=>b("analyseStatus"))},Ot)]),e("div",Ut,[M(Ne,{listStatus:_(a).listStatus},null,8,["listStatus"]),M(yt,{analyseStatus:_(a).analyseStatus},null,8,["analyseStatus"]),e("div",Jt,[M(xt)]),e("div",{class:k(["flex duration-500",{"translate-x-1/2":_(a).mainStatus}])},[e("div",Nt,[e("span",Bt,x(("0"+_(Y)).slice(-2))+" : "+x(("0"+_(r)).slice(-2)),1),e("div",Lt,[e("button",{type:"button",class:"relative border-2 rounded-full p-3 mr-3 hover:bg-secondary",onClick:y[2]||(y[2]=D=>P("audio-don"))},[Pt,w.value?oe("",!0):(f(),m("hr",Wt))]),v.value?(f(),m("button",{key:1,type:"button",class:"bg-white border rounded-full p-5 mr-3 hover:bg-transparent",onClick:j},Rt)):(f(),m("button",{key:0,type:"button",class:"bg-white border rounded-full p-5 mr-3 hover:bg-transparent",onClick:y[3]||(y[3]=D=>U())},Vt)),e("button",{type:"button",class:"border-2 rounded-full p-3 mr-3 hover:bg-secondary",onClick:B},Kt)])]),e("div",At,[p.value?(f(),m("div",Qt,eo)):(f(),m("ul",qt,[(f(!0),m(O,null,K(_(l).getters.thisWeekJobs.active,D=>(f(),m("li",{class:"flex items-center text-4xl first-of-type:font-bold mb-10",key:D.id},[e("div",Ht,[_(l).getters.thisWeekJobs.active[0].id===D.id?(f(),m("div",{key:0,class:k(["w-10 h-10 border-4 rounded-full mx-auto",{"animate-ping":v.value}])},null,2)):(f(),m("div",Gt))]),e("span",null,x(D.content),1)]))),128))]))])],2),p.value?(f(),m("img",{key:1,src:pe,alt:"",class:k(["container object-fit max-h-96 mx-auto duration-500",{"translate-x-1/2":_(a).mainStatus}])},null,2)):(f(),m("img",{key:0,src:_e,alt:"",class:k(["container object-fit max-h-96 mx-auto duration-500",{"translate-x-1/2":_(a).mainStatus}])},null,2))])])],64))}};function z(s,t){return s.todos.findIndex(o=>o.id===t)}var oo=se({state:{todos:[{id:1645773585583,content:"\u69CB\u601D\u756A\u8304\u9418 UI \u4ECB\u9762",done:!1},{id:1645773685584,content:"\u5B78\u7FD2 Javascript",done:!1},{id:1645773785585,content:"\u5B78\u7FD2\u7DB2\u9801\u5207\u7248",done:!1},{id:1646209885585,content:"\u5DF2\u5B8C\u6210case",done:!0}]},mutations:{getToDos(s){s.todos=JSON.parse(localStorage.getItem("todos"))},add(s,t){s.todos.push(t),localStorage.setItem("todos",JSON.stringify(s.todos))},editDone(s,t){const o=z(s,t.id);s.todos[o].content=t.content,s.todos[o].done=t.done,localStorage.setItem("todos",JSON.stringify(s.todos))},delete(s,t){const o=z(s,t);s.todos.splice(o,1),localStorage.setItem("todos",JSON.stringify(s.todos))}},actions:{},getters:{findItem(s){return function(o){return s.todos.find(i=>i.id===o)}},todayJobs(s){const t=I().startOf("day").valueOf(),o=s.todos.filter(l=>l.id>t);return{active:o.filter(l=>!l.done),done:o.filter(l=>l.done)}},thisWeekJobs:s=>({active:s.todos.filter(o=>!o.done),done:s.todos.filter(o=>o.done)})}});const N=ne(to);I.locale("zh-tw");N.config.globalProperties.$dayjs=I.extend(ae);N.config.globalProperties.$emitter=le();N.use(oo);N.mount("#app");
