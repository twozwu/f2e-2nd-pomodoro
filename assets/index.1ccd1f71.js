var z=Object.defineProperty;var L=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var P=(o,s,e)=>s in o?z(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,W=(o,s)=>{for(var e in s||(s={}))K.call(s,e)&&P(o,e,s[e]);if(L)for(var e of L(s))A.call(s,e)&&P(o,e,s[e]);return o};import{u as J,c as M,r as S,o as _,a as m,b as t,n as w,w as U,v as B,d as E,F as T,e as F,f as q,t as g,g as f,h as R,i as H,j as O,_ as G,k as j,l as Q,m as X,p as Z,q as tt,s as et,x as st}from"./vendor.79576d03.js";const ot=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const v of r.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}};ot();var nt="/assets/icon-list.d722b284.svg",at="/assets/icon-analysis.71a9f3ed.svg",lt="/assets/icon-bell.624e036c.svg",rt="/assets/icon-play--orange.1e6e30db.svg",it="/assets/icon-pause--orange.eded89db.svg",dt="/assets/icon-cancel.7c5f95e4.svg",ct="/assets/tomato--orange.c59650ee.svg",ut="/assets/tomato--green.fcdcebb9.svg",ft="/assets/icon-edit.f382cda4.svg",_t="/assets/icon-delete.a0466a43.svg";const mt={class:"flex justify-between items-end"},vt=t("span",{class:"text-4xl"},"\u4EE3\u8FA6\u6E05\u55AE",-1),pt={class:"flex"},ht={class:"relative flex items-center text-primary my-10"},yt={class:"divide-y divide-gray-200/30 border-y border-gray-200/30 h-full overflow-y-auto"},gt={class:"flex items-center"},bt=["for","onClick"],xt=["id","onUpdate:modelValue"],$t=["onDblclick"],kt=["onKeyup"],wt={class:"flex items-center ml-auto"},St=["for"],Dt=["onClick"],Ct=t("img",{src:ft,alt:"",class:""},null,-1),Yt=[Ct],jt=["onClick"],Mt=t("img",{src:_t,alt:"",class:""},null,-1),It=[Mt],Tt={props:{listStatus:Boolean},setup(o){const{proxy:s}=R(),e=J(),i={mounted(u){u.focus()}};localStorage.getItem("todos")&&e.commit("getToDos");const n=M(()=>e.state.todos),r=S("active"),v={active:()=>n.value.filter(u=>!u.done),complete:()=>n.value.filter(u=>u.done)},b=M(()=>v[r.value]()),$=S(null),c=S(null),p={add:()=>{if(!$.value)return;const u={id:Date.now(),content:$.value,done:!1};e.commit("add",u),s.$emitter.emit("chartUpdate"),$.value=null},checkboxToggle:u=>{const a=e.getters.findItem(u),l={id:u,content:a.content,done:!a.done};e.commit("editDone",l),s.$emitter.emit("chartUpdate")},edit:u=>{const a=e.getters.findItem(u);c.value=W({},a)},editDone:u=>{const a={id:u,content:c.value.content};e.commit("editDone",a),s.$emitter.emit("chartUpdate"),c.value=null},editCancel:()=>{c.value=null},delete:u=>{e.commit("delete",u),s.$emitter.emit("chartUpdate")}};return(u,a)=>(_(),m("div",{class:w(["absolute h-screen shadow-2xl z-10 overflow-hidden w-1/2 py-28 px-10 -left-1/2 duration-500",{"translate-x-full":o.listStatus}])},[t("div",mt,[vt,t("div",pt,[t("button",{class:w(["border-b-2 border-transparent hover:border-b-2 hover:border-secondary mr-3",{"text-gray-50/30":r.value!=="active"}]),onClick:a[0]||(a[0]=l=>r.value="active")},"\u672A\u5B8C\u6210",2),t("button",{class:w(["border-b-2 border-transparent hover:border-b-2 hover:border-secondary",{"text-gray-50/30":r.value!=="complete"}]),onClick:a[1]||(a[1]=l=>r.value="complete")},"\u5DF2\u5B8C\u6210",2)])]),t("div",ht,[U(t("input",{type:"text",class:"border rounded-full w-full py-4 px-8 outline-secondary",placeholder:"\u65B0\u589E\u4EE3\u8FA6\u4E8B\u9805","onUpdate:modelValue":a[2]||(a[2]=l=>$.value=l),onKeyup:a[3]||(a[3]=E((...l)=>p.add&&p.add(...l),["enter"]))},null,544),[[B,$.value],[i]]),t("button",{class:"absolute bg-orange-400 rounded-full text-3xl text-white right-2 w-1/6 h-5/6",onClick:a[4]||(a[4]=(...l)=>p.add&&p.add(...l))},"+")]),t("div",yt,[(_(!0),m(T,null,F(f(b),l=>{var C;return _(),m("div",{class:"flex items-center justify- py-3",key:l.id},[t("div",gt,[t("label",{for:l.id,class:"w-7 h-7 border-2 rounded-full select-none mr-5",onClick:d=>p.checkboxToggle(l.id)},[U(t("input",{type:"checkbox",name:"",id:l.id,class:"hidden","onUpdate:modelValue":d=>l.done=d},null,8,xt),[[q,l.done]]),t("span",{class:w(["material-icons",{hidden:!l.done}])},"done",2)],8,bt)]),((C=c.value)==null?void 0:C.id)!==l.id?(_(),m("span",{key:0,class:w(["w-2/3",{"line-through":l.done}]),onDblclick:d=>p.edit(l.id)},g(l.content),43,$t)):U((_(),m("input",{key:1,type:"text",class:"text-primary py-1 px-2",name:"",id:"","onUpdate:modelValue":a[5]||(a[5]=d=>c.value.content=d),onBlur:a[6]||(a[6]=(...d)=>p.editCancel&&p.editCancel(...d)),onKeyup:E(d=>p.editDone(l.id),["enter"])},null,40,kt)),[[B,c.value.content],[i]]),t("div",wt,[t("label",{for:l.id-1},[t("button",{class:"rounded-full hover:bg-secondary mr-3 p-1",onClick:d=>p.edit(l.id)},Yt,8,Dt)],8,St),t("button",{class:"rounded-full hover:bg-secondary p-1",onClick:d=>p.delete(l.id)},It,8,jt)])])}),128))])],2))}};var Ot="/assets/icon-arrow--prev.2e1a0d91.svg",Jt="/assets/icon-arrow--next.efde2f7a.svg";const Nt={class:"flex justify-center mb-3"},Ut={class:"flex font-sans"},Lt=t("img",{src:Ot,class:"",alt:""},null,-1),Pt=[Lt],Wt=t("img",{src:Jt,class:"",alt:""},null,-1),Bt=[Wt],Et={setup(o){const{proxy:s}=R(),e=J();s.$emitter.on("chartUpdate",()=>{d.data.datasets[0].data=p(i),a.value.update()});let i=1,n=S(null),r=S(null),v,b=[4,2,8,1];function $(){n.value=s.$dayjs().weekday(i).format("YYYY-MM-DD"),r.value=s.$dayjs().weekday(i+6).format("YYYY-MM-DD")}function c(y=1){v=[];const x=y+6;for(y;y<=x;y++)v.push(s.$dayjs().weekday(y).format("MM/DD (dd)"));return v}function p(y=1){b=[];const x=y+6;for(y;y<=x;y++){let I=0;const k=s.$dayjs().weekday(y).format("YYYY-MM-DD");e.state.todos.forEach(h=>{s.$dayjs(h.id).startOf("day").isSame(k)&&h.done&&(I+=1)}),b.push(I)}return b}function u(){n.value=s.$dayjs().weekday(1).format("YYYY-MM-DD"),r.value=s.$dayjs().weekday(7).format("YYYY-MM-DD"),v=c(),b=p()}u();const a=S(null);function l(){i-=7,$(),d.data.labels=c(i),d.data.datasets[0].data=p(i),a.value.update()}function C(){i+=7,$(),d.data.labels=c(i),d.data.datasets[0].data=p(i),a.value.update()}const d={id:"bar",type:"bar",data:{labels:v,datasets:[{label:"\u5B8C\u6210\u4EF6\u6578",color:"#000",backgroundColor:["#6C9460","#6C9460","#6C9460","#6C9460","#6C9460","#6C9460","#F08448"],data:b}]},options:{plugins:{},scales:{x:{ticks:{color:"white"},grid:{borderColor:"rgba(255, 255, 255, 0.3)"}},y:{ticks:{color:"white"},grid:{borderColor:"rgba(255, 255, 255, 0.3)"}}}}},Y=y=>{};return(y,x)=>(_(),m(T,null,[t("div",Nt,[t("div",Ut,[t("button",{class:"rounded-full hover:bg-secondary mx-3",onClick:l},Pt),H(" "+g(f(n))+" ~ "+g(f(r))+" ",1),t("button",{class:"rounded-full hover:bg-secondary mx-3",onClick:C},Bt)])]),O(f(G),{id:d.id,type:d.type,data:d.data,options:d.options,ref_key:"chartRef",ref:a,onBeforeRender:Y},null,8,["id","type","data","options"])],64))}},Vt=()=>{const o=J();return Object.fromEntries(Object.keys(o.getters).map(s=>[s,M(()=>o.getters[s])]))},Ft=t("div",{class:"justify-between items-end"},[t("span",{class:"text-4xl"},"\u5C08\u6CE8\u5EA6\u5206\u6790")],-1),Rt={class:"lg:flex gap-12 items-center my-10"},zt={class:"lg:w-1/2"},Kt={class:"flex"},At=t("span",{class:"mr-10 mb-5"},"\u4ECA\u65E5",-1),qt={class:"text-white/30"},Ht={class:"border border-white/30 rounded-lg py-5"},Gt={class:"flex text-center"},Qt={class:"w-1/2 border-r border-white/30"},Xt={class:"text-8xl text-thirdly mb-3"},Zt=t("p",{class:""},"\u4EE3\u8FA6\u4E8B\u9805",-1),te={class:"w-1/2"},ee={class:"text-8xl text-secondary mb-3"},se=t("p",{class:""},"\u5DF2\u5B8C\u6210",-1),oe={class:"lg:w-1/2"},ne=t("div",{class:"flex my-5 lg:mt-0"},[t("span",{class:"mr-10"},"\u672C\u5468")],-1),ae={class:"border border-white/30 rounded-lg py-5"},le={class:"flex text-center"},re={class:"w-1/2 border-r border-white/30"},ie={class:"text-8xl text-thirdly mb-3"},de=t("p",{class:""},"\u4EE3\u8FA6\u4E8B\u9805",-1),ce={class:"w-1/2"},ue={class:"text-8xl text-secondary mb-3"},fe=t("p",{class:""},"\u5DF2\u5B8C\u6210",-1),_e={id:"Chart"},me={props:{toDoList:Array,analyseStatus:Boolean},setup(o){const{todayJobs:s,thisWeekJobs:e}=Vt();return(i,n)=>(_(),m("div",{class:w(["absolute h-screen shadow-2xl overflow-y-auto z-20 w-1/2 pt-28 px-10 -left-1/2 duration-500",{"translate-x-full":o.analyseStatus}])},[Ft,t("div",Rt,[t("div",zt,[t("div",Kt,[At,t("span",qt,g(f(j)().format("YYYY-MM-DD")),1)]),t("div",Ht,[t("div",Gt,[t("div",Qt,[t("p",Xt,g(f(s).active.length),1),Zt]),t("div",te,[t("p",ee,g(f(s).done.length),1),se])])])]),t("div",oe,[ne,t("div",ae,[t("div",le,[t("div",re,[t("p",ie,g(f(e).active.length),1),de]),t("div",ce,[t("p",ue,g(f(e).done.length),1),fe])])])])]),t("div",_e,[O(Et)])],2))}},ve=["muted"],pe=["muted"],he=["muted"],ye={class:"flex selection:bg-green-100"},ge={class:"flex flex-col justify-center h-screen w-[80px] bg-gray-200 z-20"},be=t("img",{src:nt,class:"mx-auto",alt:""},null,-1),xe=[be],$e=t("img",{src:at,class:"mx-auto",alt:""},null,-1),ke=[$e],we={class:"relative flex flex-col h-screen justify-between bg-[#304030] text-white w-full overflow-hidden"},Se={class:"text-right opacity-60 p-7"},De={class:"mr-5"},Ce={class:""},Ye={class:"flex flex-col justify-center time w-1/2"},je={class:"text-[150px] lg:text-[200px] mx-auto"},Me={class:"mx-auto"},Ie=t("img",{src:lt,alt:"",class:""},null,-1),Te={key:0,class:"absolute w-full top-1/2 left-0 rotate-45 border"},Oe=t("img",{src:rt,alt:"",class:""},null,-1),Je=[Oe],Ne=t("img",{src:it,alt:"",class:""},null,-1),Ue=[Ne],Le=t("img",{src:dt,alt:"",class:""},null,-1),Pe=[Le],We={class:"pt-10 lg:pt-16"},Be={key:0,class:"p-5 max-h-96 overflow-y-auto"},Ee={class:"w-16"},Ve={key:1,class:"w-7 h-7 border-2 rounded-full mx-auto"},Fe={key:1,class:"px-10"},Re=t("p",{class:"font-bold text-8xl mb-5"},"\u4F11\u606F",-1),ze=t("p",{class:"text-4xl"},"\u662F\u70BA\u4E0B\u4E00\u6B21\u7684\u52AA\u529B\u3002",-1),Ke=[Re,ze],Ae={setup(o){const s=J(),e=Q({listStatus:!1,analyseStatus:!1,mainStatus:!1});function i(k){e[k]?Object.keys(e).forEach(h=>{e[h]=!1}):(Object.keys(e).forEach(h=>{e[h]=!1}),e[k]=!e[k],e.mainStatus=!0)}let n;const r=S(!1),v=S(!0),b=25*60,$=5*60,c=S(b),p=M(()=>Math.floor(c.value%60)),u=M(()=>Math.floor(c.value/60%60));function a(k){const h=document.getElementById(k);h.currentTime=0,h.play()}function l(){r.value=!0,v.value=!1,n=setInterval(()=>{c.value-=1,c.value||(a("audio-yay"),Y(),C())},1e3)}function C(){r.value=!0,v.value=!0,c.value=$,n=setInterval(()=>{c.value-=1,c.value||(a("audio-alarm"),Y(),l(),c.value=b)},1e3)}function d(){r.value=!1,Y(),v.value=!0}function Y(){clearInterval(n),r.value=!1}function y(){c.value=b,Y(),v.value=!0}const x=S(!0);function I(k){a(k),x.value=!x.value}return(k,h)=>(_(),m(T,null,[t("audio",{id:"audio-don",src:"/music/don.mp3",muted:!x.value},null,8,ve),t("audio",{id:"audio-alarm",src:"/music/alarm.mp3",muted:!x.value},null,8,pe),t("audio",{id:"audio-yay",src:"/music/yay.mp3",muted:!x.value},null,8,he),t("div",ye,[t("div",ge,[t("button",{class:"hover:bg-gray-50 focus:ring ring-gray-50 ring-inset w-full p-4",onClick:h[0]||(h[0]=D=>i("listStatus"))},xe),t("button",{class:"hover:bg-gray-50 focus:ring ring-gray-50 ring-inset w-full p-4",onClick:h[1]||(h[1]=D=>i("analyseStatus"))},ke)]),t("div",we,[O(Tt,{listStatus:f(e).listStatus},null,8,["listStatus"]),O(me,{analyseStatus:f(e).analyseStatus},null,8,["analyseStatus"]),t("div",Se,[t("span",De,g(f(j)().format("YYYY-MM-DD")),1),t("span",Ce,g(f(j)().format("dddd HH:mm")),1)]),t("div",{class:w(["flex duration-500",{"translate-x-1/2":f(e).mainStatus}])},[t("div",Ye,[t("span",je,g(("0"+f(u)).slice(-2))+" : "+g(("0"+f(p)).slice(-2)),1),t("div",Me,[t("button",{type:"button",class:"relative border-2 rounded-full p-3 mr-3 hover:bg-secondary",onClick:h[2]||(h[2]=D=>I("audio-don"))},[Ie,x.value?X("",!0):(_(),m("hr",Te))]),r.value?(_(),m("button",{key:1,type:"button",class:"bg-white border rounded-full p-5 mr-3 hover:bg-transparent",onClick:d},Ue)):(_(),m("button",{key:0,type:"button",class:"bg-white border rounded-full p-5 mr-3 hover:bg-transparent",onClick:h[3]||(h[3]=D=>l())},Je)),t("button",{type:"button",class:"border-2 rounded-full p-3 mr-3 hover:bg-secondary",onClick:y},Pe)])]),t("div",We,[v.value?(_(),m("div",Fe,Ke)):(_(),m("ul",Be,[(_(!0),m(T,null,F(f(s).getters.thisWeekJobs.active,D=>(_(),m("li",{class:"flex items-center text-4xl first-of-type:font-bold mb-10",key:D.id},[t("div",Ee,[f(s).getters.thisWeekJobs.active[0].id===D.id?(_(),m("div",{key:0,class:w(["w-10 h-10 border-4 rounded-full mx-auto",{"animate-ping":r.value}])},null,2)):(_(),m("div",Ve))]),t("span",null,g(D.content),1)]))),128))]))])],2),v.value?(_(),m("img",{key:1,src:ut,alt:"",class:w(["container object-fit max-h-96 mx-auto duration-500",{"translate-x-1/2":f(e).mainStatus}])},null,2)):(_(),m("img",{key:0,src:ct,alt:"",class:w(["container object-fit max-h-96 mx-auto duration-500",{"translate-x-1/2":f(e).mainStatus}])},null,2))])])],64))}};function V(o,s){return o.todos.findIndex(e=>e.id===s)}var qe=Z({state:{todos:[{id:1645773585583,content:"\u69CB\u601D\u756A\u8304\u9418 UI \u4ECB\u9762",done:!1},{id:1645773685584,content:"\u5B78\u7FD2 Javascript",done:!1},{id:1645773785585,content:"\u5B78\u7FD2\u7DB2\u9801\u5207\u7248",done:!1},{id:1646209885585,content:"\u5DF2\u5B8C\u6210case",done:!0}]},mutations:{getToDos(o){o.todos=JSON.parse(localStorage.getItem("todos"))},add(o,s){o.todos.push(s),localStorage.setItem("todos",JSON.stringify(o.todos))},editDone(o,s){const e=V(o,s.id);o.todos[e].content=s.content,o.todos[e].done=s.done,localStorage.setItem("todos",JSON.stringify(o.todos))},delete(o,s){const e=V(o,s);o.todos.splice(e,1),localStorage.setItem("todos",JSON.stringify(o.todos))}},actions:{},getters:{findItem(o){return function(e){return o.todos.find(i=>i.id===e)}},todayJobs(o){const s=j().startOf("day").valueOf(),e=o.todos.filter(n=>n.id>s);return{active:e.filter(n=>!n.done),done:e.filter(n=>n.done)}},thisWeekJobs:o=>({active:o.todos.filter(e=>!e.done),done:o.todos.filter(e=>e.done)})}});const N=tt(Ae);j.locale("zh-tw");N.config.globalProperties.$dayjs=j.extend(et);N.config.globalProperties.$emitter=st();N.use(qe);N.mount("#app");
